"use strict";exports.id=690,exports.ids=[690],exports.modules={59690:(a,b,c)=>{c.d(b,{ZA:()=>q});var d=c(68227);function e(a,b,c){try{return a(b)}catch(a){return(0,d.R8)("[nuqs] Error while parsing value `%s`: %O"+(c?" (for key `%s`)":""),b,a,c),null}}var f=function(){if("undefined"==typeof window||!window.GestureEvent)return 50;try{let a=navigator.userAgent?.match(/version\/([\d\.]+) safari/i);return parseFloat(a[1])>=17?120:320}catch{return 320}}(),g=new Map,h={history:"replace",scroll:!1,shallow:!0,throttleMs:f},i=new Set,j=0,k=null,l=c(65561);function m(a){function b(b){if(void 0===b)return null;let c="";if(Array.isArray(b)){if(void 0===b[0])return null;c=b[0]}return"string"==typeof b&&(c=b),e(a.parse,c)}return{eq:(a,b)=>a===b,...a,parseServerSide:b,withDefault(a){return{...this,defaultValue:a,parseServerSide:c=>b(c)??a}},withOptions(a){return{...this,...a}}}}m({parse:a=>a,serialize:a=>`${a}`});var n=m({parse:a=>{let b=parseInt(a);return Number.isNaN(b)?null:b},serialize:a=>Math.round(a).toFixed()});function o(a,b){return a.valueOf()===b.valueOf()}m({parse:a=>{let b=n.parse(a);return null===b?null:b-1},serialize:a=>n.serialize(a+1)}),m({parse:a=>{let b=parseInt(a,16);return Number.isNaN(b)?null:b},serialize:a=>{let b=Math.round(a).toString(16);return b.padStart(b.length+b.length%2,"0")}}),m({parse:a=>{let b=parseFloat(a);return Number.isNaN(b)?null:b},serialize:a=>a.toString()}),m({parse:a=>"true"===a,serialize:a=>a?"true":"false"}),m({parse:a=>{let b=parseInt(a);return Number.isNaN(b)?null:new Date(b)},serialize:a=>a.valueOf().toString(),eq:o}),m({parse:a=>{let b=new Date(a);return Number.isNaN(b.valueOf())?null:b},serialize:a=>a.toISOString(),eq:o}),m({parse:a=>{let b=new Date(a.slice(0,10));return Number.isNaN(b.valueOf())?null:b},serialize:a=>a.toISOString().slice(0,10),eq:o});var p=function(a){return{all:a=a||new Map,on:function(b,c){var d=a.get(b);d?d.push(c):a.set(b,[c])},off:function(b,c){var d=a.get(b);d&&(c?d.splice(d.indexOf(c)>>>0,1):a.set(b,[]))},emit:function(b,c){var d=a.get(b);d&&d.slice().map(function(a){a(c)}),(d=a.get("*"))&&d.slice().map(function(a){a(b,c)})}}}();function q(a,{history:b="replace",shallow:c=!0,scroll:m=!1,throttleMs:n=f,parse:o=a=>a,serialize:r=String,eq:s=(a,b)=>a===b,defaultValue:t,clearOnDefault:u=!0,startTransition:v}={history:"replace",scroll:!1,shallow:!0,throttleMs:f,parse:a=>a,serialize:String,eq:(a,b)=>a===b,clearOnDefault:!0,defaultValue:void 0}){let w=(0,d.V7)(),x=w.searchParams;(0,l.useRef)(x?.get(a)??null);let[y,z]=(0,l.useState)(()=>{let b=g.get(a),c=void 0===b?x?.get(a)??null:b;return null===c?null:e(o,c,a)}),A=(0,l.useRef)(y);(0,d.Yz)("[nuqs `%s`] render - state: %O, iSP: %s",a,y,x?.get(a)??null);let B=(0,l.useCallback)((e,l={})=>{let o="function"==typeof e?e(A.current??t??null):e;(l.clearOnDefault??u)&&null!==o&&void 0!==t&&s(o,t)&&(o=null);let q=function(a,b,c,e){let j=null===b?null:c(b);return(0,d.Yz)("[nuqs queue] Enqueueing %s=%s %O",a,j,e),g.set(a,j),"push"===e.history&&(h.history="push"),e.scroll&&(h.scroll=!0),!1===e.shallow&&(h.shallow=!1),e.startTransition&&i.add(e.startTransition),h.throttleMs=Math.max(e.throttleMs??f,Number.isFinite(h.throttleMs)?h.throttleMs:0),j}(a,o,r,{history:l.history??b,shallow:l.shallow??c,scroll:l.scroll??m,throttleMs:l.throttleMs??n,startTransition:l.startTransition??v});return p.emit(a,{state:o,query:q}),function({getSearchParamsSnapshot:a=function(){return new URLSearchParams(location.search)},updateUrl:b,rateLimitFactor:c=1}){return null===k&&(k=new Promise((e,l)=>{if(!Number.isFinite(h.throttleMs)){(0,d.Yz)("[nuqs queue] Skipping flush due to throttleMs=Infinity"),e(a()),setTimeout(()=>{k=null},0);return}function m(){j=performance.now();let[c,m]=function({updateUrl:a,getSearchParamsSnapshot:b}){let c=b();if(0===g.size)return[c,null];let e=Array.from(g.entries()),j={...h},k=Array.from(i);for(let[a,b]of(g.clear(),i.clear(),h.history="replace",h.scroll=!1,h.shallow=!0,h.throttleMs=f,(0,d.Yz)("[nuqs queue] Flushing queue %O with options %O",e,j),e))null===b?c.delete(a):c.set(a,b);try{return function(a,b){let c=d=>{if(d===a.length)return b();let e=a[d];if(!e)throw Error("Invalid transition function");e(()=>c(d+1))};c(0)}(k,()=>{a(c,{history:j.history,scroll:j.scroll,shallow:j.shallow})}),[c,null]}catch(a){return console.error((0,d.z3)(429),e.map(([a])=>a).join(),a),[c,a]}}({updateUrl:b,getSearchParamsSnapshot:a});null===m?e(c):l(c),k=null}setTimeout(function(){let a=performance.now()-j,b=h.throttleMs,e=c*Math.max(0,Math.min(b,b-a));(0,d.Yz)("[nuqs queue] Scheduling flush in %f ms. Throttled at %f ms",e,b),0===e?m():setTimeout(m,e)},0)})),k}(w)},[a,b,c,m,n,v,w.updateUrl,w.getSearchParamsSnapshot,w.rateLimitFactor]);return[y??t??null,B]}}};