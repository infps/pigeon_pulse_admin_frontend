(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[490],{867:(e,s,t)=>{"use strict";t.d(s,{A:()=>r});let r=(0,t(9664).A)("sunrise",[["path",{d:"M12 2v8",key:"1q4o3n"}],["path",{d:"m4.93 10.93 1.41 1.41",key:"2a7f42"}],["path",{d:"M2 18h2",key:"j10viu"}],["path",{d:"M20 18h2",key:"wocana"}],["path",{d:"m19.07 10.93-1.41 1.41",key:"15zs5n"}],["path",{d:"M22 22H2",key:"19qnx5"}],["path",{d:"m8 6 4-4 4 4",key:"ybng9g"}],["path",{d:"M16 18a4 4 0 0 0-8 0",key:"1lzouq"}]])},1192:(e,s,t)=>{"use strict";t.d(s,{A:()=>r});let r=(0,t(9664).A)("thermometer",[["path",{d:"M14 4v10.54a4 4 0 1 1-4 0V4a2 2 0 0 1 4 0Z",key:"17jzev"}]])},2344:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>N});var r=t(8260),a=t(2297),d=t(6462),n=t(3657),l=t(4105),c=t(1839),i=t(3589),m=t(4970),o=t(8412),x=t(2570),u=t(867),h=t(1192),g=t(8814),j=t(3426),p=t(7688),f=t(647);function N(){let e=(0,j.useParams)().raceId;return e?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(y,{raceId:e}),(0,r.jsxs)("div",{className:"container mx-auto p-6",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,r.jsx)("h2",{className:"text-2xl font-bold mb-4",children:"Race Entries"}),(0,r.jsx)("div",{className:"flex items-center space-x-2",children:(0,r.jsxs)(l.lG,{children:[(0,r.jsx)(l.zM,{asChild:!0,children:(0,r.jsx)(n.$,{children:"Start Scanner"})}),(0,r.jsx)(l.Cf,{className:"sm:max-w-sm",children:(0,r.jsx)(v,{raceId:e})})]})})]}),(0,r.jsx)(b,{raceId:e})]})]}):(0,r.jsx)("div",{className:"text-red-500",children:"Invalid race ID"})}function v(e){let{raceId:s}=e,{mutateAsync:t}=(0,m.vo)(s),a=(0,p.useRef)(null),d=async e=>{if(!t||(e.preventDefault(),!a.current))return;let s=a.current.value;try{let{data:e,error:r}=await t({rfId:s});r?f.o.error("Error: ".concat(r)):f.o.success("Bird scanned successfully!"),a.current.value=""}catch(e){f.o.error("".concat(e))}};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(l.c7,{children:[(0,r.jsx)(l.L3,{children:"Race Scanning"}),(0,r.jsx)(l.rr,{children:"Scan the RFID of the bird"})]}),(0,r.jsx)("div",{className:"grid gap-4",children:(0,r.jsxs)("div",{className:"grid gap-3",children:[(0,r.jsx)(i.J,{htmlFor:"rfId",children:"RFID"}),(0,r.jsx)(c.p,{ref:a,id:"rfId",name:"rfId"})]})}),(0,r.jsxs)(l.Es,{children:[(0,r.jsx)(l.HM,{asChild:!0,children:(0,r.jsx)(n.$,{variant:"outline",children:"Cancel"})}),(0,r.jsx)(n.$,{onClick:d,type:"submit",children:"Save changes"})]})]})}function y(e){var s;let t,{raceId:a}=e,{data:d,error:n,isError:l,isPending:c}=(0,m.dA)(a);if(c)return(0,r.jsx)("div",{children:"Loading..."});if(l)return(0,r.jsxs)("div",{className:"text-red-500",children:["Error: ",n.message]});let i=d.data;return(0,r.jsxs)("div",{className:"container mx-auto p-6 space-y-6",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{children:[(0,r.jsxs)("h1",{className:"text-3xl font-bold",children:["Race #",i.externalRaceId]}),(0,r.jsx)("p",{className:"text-muted-foreground",children:"Race Details and Results"})]}),(t=i.isClosed,(0,r.jsx)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ".concat(t?"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200":"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200"),children:t?"Closed":"Open"}))]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,r.jsxs)("div",{className:"rounded-lg border bg-card text-card-foreground shadow-sm",children:[(0,r.jsx)("div",{className:"flex flex-col space-y-1.5 p-6",children:(0,r.jsxs)("div",{className:"flex items-center gap-2 text-lg font-semibold leading-none tracking-tight",children:[(0,r.jsx)(o.A,{className:"h-5 w-5"}),"Basic Information"]})}),(0,r.jsxs)("div",{className:"p-6 pt-0 space-y-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"text-sm font-medium text-muted-foreground",children:"Type"}),(0,r.jsx)("p",{className:"text-lg",children:{TRAINING:"Training",INVENTORY:"Inventory",LOFT_FLY:"Loft Fly",PULLING_FLIGHT:"Pulling Flight",FINAL_RACE:"Final Race",HOTSPOT_1:"Hotspot 1",HOTSPOT_2:"Hotspot 2",HOTSPOT_3:"Hotspot 3",AVG_WINNER:"Average Winner"}[s=i.type]||s})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"text-sm font-medium text-muted-foreground",children:"Location"}),(0,r.jsx)("p",{className:"text-lg",children:i.location})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"text-sm font-medium text-muted-foreground",children:"Distance"}),(0,r.jsxs)("p",{className:"text-lg",children:[i.distance," miles"]})]})]})]}),(0,r.jsxs)("div",{className:"rounded-lg border bg-card text-card-foreground shadow-sm",children:[(0,r.jsx)("div",{className:"flex flex-col space-y-1.5 p-6",children:(0,r.jsxs)("div",{className:"flex items-center gap-2 text-lg font-semibold leading-none tracking-tight",children:[(0,r.jsx)(x.A,{className:"h-5 w-5"}),"Schedule"]})}),(0,r.jsxs)("div",{className:"p-6 pt-0 space-y-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"text-sm font-medium text-muted-foreground",children:"Start Time"}),(0,r.jsx)("p",{className:"text-lg",children:new Date(i.startTime).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"})})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"text-sm font-medium text-muted-foreground",children:"Arrival Date"}),(0,r.jsx)("p",{className:"text-lg",children:new Date(i.arrivalDate).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})})]})]})]}),(0,r.jsxs)("div",{className:"rounded-lg border bg-card text-card-foreground shadow-sm",children:[(0,r.jsx)("div",{className:"flex flex-col space-y-1.5 p-6",children:(0,r.jsxs)("div",{className:"flex items-center gap-2 text-lg font-semibold leading-none tracking-tight",children:[(0,r.jsx)(u.A,{className:"h-5 w-5"}),"Sun Times"]})}),(0,r.jsxs)("div",{className:"p-6 pt-0 space-y-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"text-sm font-medium text-muted-foreground",children:"Sunrise"}),(0,r.jsx)("p",{className:"text-lg",children:i.sunrise||"Not set"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"text-sm font-medium text-muted-foreground",children:"Sunset"}),(0,r.jsx)("p",{className:"text-lg",children:i.sunset||"Not set"})]})]})]})]}),(i.weather||i.wind||i.temperature||i.arrivalWeather||i.arrivalWind||i.arrivalTemperature)&&(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,r.jsxs)("div",{className:"rounded-lg border bg-card text-card-foreground shadow-sm",children:[(0,r.jsx)("div",{className:"flex flex-col space-y-1.5 p-6",children:(0,r.jsxs)("div",{className:"flex items-center gap-2 text-lg font-semibold leading-none tracking-tight",children:[(0,r.jsx)(h.A,{className:"h-5 w-5"}),"Liberation Weather"]})}),(0,r.jsxs)("div",{className:"p-6 pt-0 space-y-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"text-sm font-medium text-muted-foreground",children:"Weather"}),(0,r.jsx)("p",{className:"text-lg",children:i.weather||"Not recorded"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"text-sm font-medium text-muted-foreground",children:"Temperature"}),(0,r.jsx)("p",{className:"text-lg",children:i.temperature||"Not recorded"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"text-sm font-medium text-muted-foreground",children:"Wind"}),(0,r.jsx)("p",{className:"text-lg",children:i.wind||"Not recorded"})]})]})]}),(0,r.jsxs)("div",{className:"rounded-lg border bg-card text-card-foreground shadow-sm",children:[(0,r.jsx)("div",{className:"flex flex-col space-y-1.5 p-6",children:(0,r.jsxs)("div",{className:"flex items-center gap-2 text-lg font-semibold leading-none tracking-tight",children:[(0,r.jsx)(g.A,{className:"h-5 w-5"}),"Arrival Weather"]})}),(0,r.jsxs)("div",{className:"p-6 pt-0 space-y-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"text-sm font-medium text-muted-foreground",children:"Weather"}),(0,r.jsx)("p",{className:"text-lg",children:i.arrivalWeather||"Not recorded"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"text-sm font-medium text-muted-foreground",children:"Temperature"}),(0,r.jsx)("p",{className:"text-lg",children:i.arrivalTemperature||"Not recorded"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"text-sm font-medium text-muted-foreground",children:"Wind"}),(0,r.jsx)("p",{className:"text-lg",children:i.arrivalWind||"Not recorded"})]})]})]})]})]})}function b(e){let{raceId:s}=e,{data:t,error:n,isError:l,isPending:c}=(0,m.P3)(s),i=(null==t?void 0:t.data)||[];return(0,r.jsxs)(r.Fragment,{children:[l&&(0,r.jsx)("p",{className:"text-red-500",children:"Error loading race results"}),c&&(0,r.jsx)("p",{children:"Loading..."}),(0,r.jsx)(d.b,{columns:a.G8,data:i})]})}},3426:(e,s,t)=>{"use strict";var r=t(9606);t.o(r,"useParams")&&t.d(s,{useParams:function(){return r.useParams}}),t.o(r,"usePathname")&&t.d(s,{usePathname:function(){return r.usePathname}}),t.o(r,"useRouter")&&t.d(s,{useRouter:function(){return r.useRouter}}),t.o(r,"useSearchParams")&&t.d(s,{useSearchParams:function(){return r.useSearchParams}})},4970:(e,s,t)=>{"use strict";t.d(s,{P3:()=>x,Rn:()=>c,c5:()=>i,dA:()=>l,r9:()=>d,tm:()=>m,uP:()=>n,vo:()=>o});var r=t(7026),a=t(518);function d(){return(0,r.A)({endpoint:a.b.races.create,method:"POST",invalidateKeys:[{queryKey:["races"]}]})}function n(e){return(0,r.A)({endpoint:a.b.races.listRaces(e),method:"GET",queryKey:["races"]})}function l(e){return(0,r.A)({endpoint:a.b.races.listRace(e),method:"GET",queryKey:["race",e]})}function c(e){return(0,r.A)({endpoint:a.b.races.listRaceItems(e),method:"GET",queryKey:["raceItems",e]})}function i(e){return(0,r.A)({endpoint:a.b.races.loftBasketing(e),method:"POST",invalidateKeys:[{queryKey:["raceItems"]}]})}function m(e){return(0,r.A)({endpoint:a.b.races.raceBasketing(e),method:"POST",invalidateKeys:[{queryKey:["raceItems"]}]})}function o(e){return(0,r.A)({endpoint:a.b.races.publishResult(e),method:"POST",invalidateKeys:[{queryKey:["raceResults",e]}]})}function x(e){return(0,r.A)({endpoint:a.b.races.listResults(e),method:"GET",queryKey:["raceResults",e]})}},8412:(e,s,t)=>{"use strict";t.d(s,{A:()=>r});let r=(0,t(9664).A)("map-pin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]])},8814:(e,s,t)=>{"use strict";t.d(s,{A:()=>r});let r=(0,t(9664).A)("wind",[["path",{d:"M12.8 19.6A2 2 0 1 0 14 16H2",key:"148xed"}],["path",{d:"M17.5 8a2.5 2.5 0 1 1 2 4H2",key:"1u4tom"}],["path",{d:"M9.8 4.4A2 2 0 1 1 11 8H2",key:"75valh"}]])},9394:(e,s,t)=>{Promise.resolve().then(t.bind(t,2344))}},e=>{e.O(0,[29,974,641,736,633,84,882,412,433,561,742,358],()=>e(e.s=9394)),_N_E=e.O()}]);