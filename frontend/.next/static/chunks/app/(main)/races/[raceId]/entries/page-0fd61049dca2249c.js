(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[516],{867:(e,s,r)=>{"use strict";r.d(s,{A:()=>t});let t=(0,r(9664).A)("sunrise",[["path",{d:"M12 2v8",key:"1q4o3n"}],["path",{d:"m4.93 10.93 1.41 1.41",key:"2a7f42"}],["path",{d:"M2 18h2",key:"j10viu"}],["path",{d:"M20 18h2",key:"wocana"}],["path",{d:"m19.07 10.93-1.41 1.41",key:"15zs5n"}],["path",{d:"M22 22H2",key:"19qnx5"}],["path",{d:"m8 6 4-4 4 4",key:"ybng9g"}],["path",{d:"M16 18a4 4 0 0 0-8 0",key:"1lzouq"}]])},1024:(e,s,r)=>{Promise.resolve().then(r.bind(r,2522))},1192:(e,s,r)=>{"use strict";r.d(s,{A:()=>t});let t=(0,r(9664).A)("thermometer",[["path",{d:"M14 4v10.54a4 4 0 1 1-4 0V4a2 2 0 0 1 4 0Z",key:"17jzev"}]])},2522:(e,s,r)=>{"use strict";r.r(s),r.d(s,{default:()=>N});var t=r(8260),a=r(4970),n=r(3426),d=r(7688),l=r(8412),c=r(2570),i=r(867),o=r(1192),m=r(8814),x=r(6462),u=r(2297),h=r(3657),j=r(4105),g=r(3589),f=r(1839),p=r(647);function N(){let e=(0,n.useParams)().raceId;return e?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(v,{raceId:e}),(0,t.jsxs)("div",{className:"container mx-auto p-6",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,t.jsx)("h2",{className:"text-2xl font-bold mb-4",children:"Race Entries"}),(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsxs)(j.lG,{children:[(0,t.jsx)(j.zM,{asChild:!0,children:(0,t.jsx)(h.$,{children:"Loft Basketing"})}),(0,t.jsx)(j.Cf,{className:"sm:max-w-sm",children:(0,t.jsx)(k,{raceId:e})})]}),(0,t.jsxs)(j.lG,{children:[(0,t.jsx)(j.zM,{asChild:!0,children:(0,t.jsx)(h.$,{children:"Race Basketing"})}),(0,t.jsx)(j.Cf,{className:"sm:max-w-sm",children:(0,t.jsx)(b,{raceId:e})})]})]})]}),(0,t.jsx)(y,{raceId:e})]})]}):(0,t.jsx)("div",{className:"text-red-500",children:"Invalid race ID"})}function v(e){var s;let r,{raceId:n}=e,{data:d,error:x,isError:u,isPending:h}=(0,a.dA)(n);if(h)return(0,t.jsx)("div",{children:"Loading..."});if(u)return(0,t.jsxs)("div",{className:"text-red-500",children:["Error: ",x.message]});let j=d.data;return(0,t.jsxs)("div",{className:"container mx-auto p-6 space-y-6",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("h1",{className:"text-3xl font-bold",children:["Race #",j.externalRaceId]}),(0,t.jsx)("p",{className:"text-muted-foreground",children:"Race Details and Entries"})]}),(r=j.isClosed,(0,t.jsx)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ".concat(r?"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200":"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200"),children:r?"Closed":"Open"}))]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,t.jsxs)("div",{className:"rounded-lg border bg-card text-card-foreground shadow-sm",children:[(0,t.jsx)("div",{className:"flex flex-col space-y-1.5 p-6",children:(0,t.jsxs)("div",{className:"flex items-center gap-2 text-lg font-semibold leading-none tracking-tight",children:[(0,t.jsx)(l.A,{className:"h-5 w-5"}),"Basic Information"]})}),(0,t.jsxs)("div",{className:"p-6 pt-0 space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"text-sm font-medium text-muted-foreground",children:"Type"}),(0,t.jsx)("p",{className:"text-lg",children:{TRAINING:"Training",INVENTORY:"Inventory",LOFT_FLY:"Loft Fly",PULLING_FLIGHT:"Pulling Flight",FINAL_RACE:"Final Race",HOTSPOT_1:"Hotspot 1",HOTSPOT_2:"Hotspot 2",HOTSPOT_3:"Hotspot 3",AVG_WINNER:"Average Winner"}[s=j.type]||s})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"text-sm font-medium text-muted-foreground",children:"Location"}),(0,t.jsx)("p",{className:"text-lg",children:j.location})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"text-sm font-medium text-muted-foreground",children:"Distance"}),(0,t.jsxs)("p",{className:"text-lg",children:[j.distance," miles"]})]})]})]}),(0,t.jsxs)("div",{className:"rounded-lg border bg-card text-card-foreground shadow-sm",children:[(0,t.jsx)("div",{className:"flex flex-col space-y-1.5 p-6",children:(0,t.jsxs)("div",{className:"flex items-center gap-2 text-lg font-semibold leading-none tracking-tight",children:[(0,t.jsx)(c.A,{className:"h-5 w-5"}),"Schedule"]})}),(0,t.jsxs)("div",{className:"p-6 pt-0 space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"text-sm font-medium text-muted-foreground",children:"Start Time"}),(0,t.jsx)("p",{className:"text-lg",children:new Date(j.startTime).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"})})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"text-sm font-medium text-muted-foreground",children:"Arrival Date"}),(0,t.jsx)("p",{className:"text-lg",children:new Date(j.arrivalDate).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})})]})]})]}),(0,t.jsxs)("div",{className:"rounded-lg border bg-card text-card-foreground shadow-sm",children:[(0,t.jsx)("div",{className:"flex flex-col space-y-1.5 p-6",children:(0,t.jsxs)("div",{className:"flex items-center gap-2 text-lg font-semibold leading-none tracking-tight",children:[(0,t.jsx)(i.A,{className:"h-5 w-5"}),"Sun Times"]})}),(0,t.jsxs)("div",{className:"p-6 pt-0 space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"text-sm font-medium text-muted-foreground",children:"Sunrise"}),(0,t.jsx)("p",{className:"text-lg",children:j.sunrise||"Not set"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"text-sm font-medium text-muted-foreground",children:"Sunset"}),(0,t.jsx)("p",{className:"text-lg",children:j.sunset||"Not set"})]})]})]})]}),(j.weather||j.wind||j.temperature||j.arrivalWeather||j.arrivalWind||j.arrivalTemperature)&&(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,t.jsxs)("div",{className:"rounded-lg border bg-card text-card-foreground shadow-sm",children:[(0,t.jsx)("div",{className:"flex flex-col space-y-1.5 p-6",children:(0,t.jsxs)("div",{className:"flex items-center gap-2 text-lg font-semibold leading-none tracking-tight",children:[(0,t.jsx)(o.A,{className:"h-5 w-5"}),"Liberation Weather"]})}),(0,t.jsxs)("div",{className:"p-6 pt-0 space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"text-sm font-medium text-muted-foreground",children:"Weather"}),(0,t.jsx)("p",{className:"text-lg",children:j.weather||"Not recorded"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"text-sm font-medium text-muted-foreground",children:"Temperature"}),(0,t.jsx)("p",{className:"text-lg",children:j.temperature||"Not recorded"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"text-sm font-medium text-muted-foreground",children:"Wind"}),(0,t.jsx)("p",{className:"text-lg",children:j.wind||"Not recorded"})]})]})]}),(0,t.jsxs)("div",{className:"rounded-lg border bg-card text-card-foreground shadow-sm",children:[(0,t.jsx)("div",{className:"flex flex-col space-y-1.5 p-6",children:(0,t.jsxs)("div",{className:"flex items-center gap-2 text-lg font-semibold leading-none tracking-tight",children:[(0,t.jsx)(m.A,{className:"h-5 w-5"}),"Arrival Weather"]})}),(0,t.jsxs)("div",{className:"p-6 pt-0 space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"text-sm font-medium text-muted-foreground",children:"Weather"}),(0,t.jsx)("p",{className:"text-lg",children:j.arrivalWeather||"Not recorded"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"text-sm font-medium text-muted-foreground",children:"Temperature"}),(0,t.jsx)("p",{className:"text-lg",children:j.arrivalTemperature||"Not recorded"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"text-sm font-medium text-muted-foreground",children:"Wind"}),(0,t.jsx)("p",{className:"text-lg",children:j.arrivalWind||"Not recorded"})]})]})]})]})]})}function y(e){let{raceId:s}=e,{data:r,error:n,isError:d,isPending:l}=(0,a.Rn)(s);console.log(r);let c=(null==r?void 0:r.data)||[];return(0,t.jsxs)(t.Fragment,{children:[d&&(0,t.jsx)("p",{className:"text-red-500",children:"Error loading race entries"}),l&&(0,t.jsx)("p",{children:"Loading..."}),(0,t.jsx)(x.b,{columns:u.Y_,data:c})]})}function b(e){let{raceId:s}=e,{mutateAsync:r}=(0,a.tm)(s),n=(0,d.useRef)(null),l=async e=>{if(!r||(e.preventDefault(),!n.current))return;let s=n.current.value;try{let{data:e,error:t}=await r({rfId:s});t?p.o.error("Error: ".concat(t)):p.o.success("Bird basketed successfully!"),n.current.value=""}catch(e){p.o.error("".concat(e))}};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(j.c7,{children:[(0,t.jsx)(j.L3,{children:"Race Basketing"}),(0,t.jsx)(j.rr,{children:"Enter the RFID to basket the bird!"})]}),(0,t.jsx)("div",{className:"grid gap-4",children:(0,t.jsxs)("div",{className:"grid gap-3",children:[(0,t.jsx)(g.J,{htmlFor:"rfId",children:"RFID"}),(0,t.jsx)(f.p,{ref:n,id:"rfId",name:"rfId"})]})}),(0,t.jsxs)(j.Es,{children:[(0,t.jsx)(j.HM,{asChild:!0,children:(0,t.jsx)(h.$,{variant:"outline",children:"Cancel"})}),(0,t.jsx)(h.$,{onClick:l,type:"submit",children:"Save changes"})]})]})}function k(e){let{raceId:s}=e,{mutateAsync:r}=(0,a.c5)(s),n=(0,d.useRef)(null),l=async e=>{if(!r||(e.preventDefault(),!n.current))return;let s=n.current.value;try{let{data:e,error:t}=await r({rfId:s});t?p.o.error("".concat(t)):p.o.success("Bird lofted successfully!"),n.current.value=""}catch(e){p.o.error("Error: ".concat(e))}};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(j.c7,{children:[(0,t.jsx)(j.L3,{children:"Loft Basketing"}),(0,t.jsx)(j.rr,{children:"Enter the RFID to basket the bird!"})]}),(0,t.jsx)("div",{className:"grid gap-4",children:(0,t.jsxs)("div",{className:"grid gap-3",children:[(0,t.jsx)(g.J,{htmlFor:"rfId",children:"RFID"}),(0,t.jsx)(f.p,{ref:n,id:"rfId",name:"rfId"})]})}),(0,t.jsxs)(j.Es,{children:[(0,t.jsx)(j.HM,{asChild:!0,children:(0,t.jsx)(h.$,{variant:"outline",children:"Cancel"})}),(0,t.jsx)(h.$,{onClick:l,type:"submit",children:"Save changes"})]})]})}},3426:(e,s,r)=>{"use strict";var t=r(9606);r.o(t,"useParams")&&r.d(s,{useParams:function(){return t.useParams}}),r.o(t,"usePathname")&&r.d(s,{usePathname:function(){return t.usePathname}}),r.o(t,"useRouter")&&r.d(s,{useRouter:function(){return t.useRouter}}),r.o(t,"useSearchParams")&&r.d(s,{useSearchParams:function(){return t.useSearchParams}})},4970:(e,s,r)=>{"use strict";r.d(s,{P3:()=>x,Rn:()=>c,c5:()=>i,dA:()=>l,r9:()=>n,tm:()=>o,uP:()=>d,vo:()=>m});var t=r(7026),a=r(518);function n(){return(0,t.A)({endpoint:a.b.races.create,method:"POST",invalidateKeys:[{queryKey:["races"]}]})}function d(e){return(0,t.A)({endpoint:a.b.races.listRaces(e),method:"GET",queryKey:["races"]})}function l(e){return(0,t.A)({endpoint:a.b.races.listRace(e),method:"GET",queryKey:["race",e]})}function c(e){return(0,t.A)({endpoint:a.b.races.listRaceItems(e),method:"GET",queryKey:["raceItems",e]})}function i(e){return(0,t.A)({endpoint:a.b.races.loftBasketing(e),method:"POST",invalidateKeys:[{queryKey:["raceItems"]}]})}function o(e){return(0,t.A)({endpoint:a.b.races.raceBasketing(e),method:"POST",invalidateKeys:[{queryKey:["raceItems"]}]})}function m(e){return(0,t.A)({endpoint:a.b.races.publishResult(e),method:"POST",invalidateKeys:[{queryKey:["raceResults",e]}]})}function x(e){return(0,t.A)({endpoint:a.b.races.listResults(e),method:"GET",queryKey:["raceResults",e]})}},8412:(e,s,r)=>{"use strict";r.d(s,{A:()=>t});let t=(0,r(9664).A)("map-pin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]])},8814:(e,s,r)=>{"use strict";r.d(s,{A:()=>t});let t=(0,r(9664).A)("wind",[["path",{d:"M12.8 19.6A2 2 0 1 0 14 16H2",key:"148xed"}],["path",{d:"M17.5 8a2.5 2.5 0 1 1 2 4H2",key:"1u4tom"}],["path",{d:"M9.8 4.4A2 2 0 1 1 11 8H2",key:"75valh"}]])}},e=>{e.O(0,[29,974,641,736,633,84,882,412,433,561,742,358],()=>e(e.s=1024)),_N_E=e.O()}]);