(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[468],{1896:(e,t,n)=>{"use strict";n.d(t,{d:()=>s});var l=n(7688);function s(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:150,[n,s]=(0,l.useState)(e);return(0,l.useEffect)(()=>{let n=setTimeout(()=>{s(e)},t);return()=>clearTimeout(n)},[e,t]),n}},7708:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>x});var l=n(8260),s=n(2297),r=n(6462),i=n(1839),a=n(3589),d=n(3941),c=n(1896),u=n(7026),o=n(518),h=n(9681),v=n(8742);function x(){let[e,t]=(0,v.ZA)("eventId",{defaultValue:""}),{data:n,error:s,isError:r,isPending:i}=(0,h.NC)();if(i)return(0,l.jsx)("div",{children:"Loading..."});if(r)return(0,l.jsxs)("div",{children:["Error: ",s.message]});if(!n||0===n.length)return(0,l.jsx)("div",{children:"No events found."});let a=n.data.events||[];return(0,l.jsxs)("div",{className:"p-4",children:[(0,l.jsx)("h2",{className:"text-xl font-bold mb-4",children:"Event Inventory"}),(0,l.jsxs)("div",{className:"flex items-center justify-between gap-2",children:[(0,l.jsx)(j,{events:a}),e&&(0,l.jsx)(m,{})]}),e?(0,l.jsx)("div",{className:"mt-4",children:(0,l.jsx)(f,{})}):(0,l.jsx)("div",{className:"mt-4",children:(0,l.jsx)("p",{className:"text-gray-500",children:"Select an event to view its inventory."})})]})}function m(){let[e,t]=(0,v.ZA)("q",{defaultValue:""});return(0,l.jsxs)("div",{children:[(0,l.jsx)(a.J,{htmlFor:"bird-search",children:"Search Birds"}),(0,l.jsx)(i.p,{type:"text",placeholder:"Search birds...",value:e,onChange:e=>t(e.target.value),className:"border rounded-lg px-3 py-2 w-[300px] mt-2"})]})}function j(e){let{events:t}=e,[n,s]=(0,v.ZA)("eventId",{defaultValue:""});return(0,l.jsxs)("div",{children:[(0,l.jsx)(a.J,{htmlFor:"event-select",children:"Select an Event"}),(0,l.jsxs)(d.l6,{onValueChange:e=>{"all"===e?s(""):s(e)},value:n,children:[(0,l.jsx)(d.bq,{className:"w-[300px] mt-2",id:"event-select",children:(0,l.jsx)(d.yv,{placeholder:"Select an event"})}),(0,l.jsxs)(d.gC,{children:[(0,l.jsx)(d.eb,{value:"all",onClick:()=>s(""),children:"All Events"}),t.map(e=>(0,l.jsxs)(d.eb,{value:e.id,onClick:()=>s(e.id),children:[e.name," (",e.shortName,")"]},e.id))]})]})]})}function f(){let[e,t]=(0,v.ZA)("q"),[n,i]=(0,v.ZA)("eventId",{defaultValue:""}),a=(0,c.d)(e,300),{data:d,error:h,isError:x,isPending:m}=function(e){let{id:t,params:n}=e,l=n?Object.entries(n).map(e=>{let[t,n]=e;return"".concat(t,"=").concat(n)}).join("&"):"";return(0,u.A)({endpoint:o.b.birds.listByEvent(t),params:n,method:"GET",queryKey:["birds",t,l]})}({id:n,params:{...a?{q:a}:{}}});if(m)return(0,l.jsx)("div",{className:"flex h-96 w-full items-center justify-between",children:"Loading..."});if(x)return(0,l.jsxs)("div",{className:"flex h-96 w-full items-center justify-between",children:["Error: ",h.message]});console.log("data",d);let j=(null==d?void 0:d.data)||[];return(0,l.jsx)(r.b,{columns:s.B8,data:j})}n(7688)},9718:(e,t,n)=>{Promise.resolve().then(n.bind(n,7708))}},e=>{e.O(0,[29,974,641,736,633,84,882,361,412,433,561,742,358],()=>e(e.s=9718)),_N_E=e.O()}]);