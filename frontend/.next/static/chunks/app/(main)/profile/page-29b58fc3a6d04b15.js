(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[897],{518:(e,r,t)=>{"use strict";t.d(r,{b:()=>s});let s={auth:{login:"/auth/admin/login",logout:"/auth/admin/logout",signup:"/auth/admin/signup",session:"/auth/session"},schema:{getPrizes:"/schema/prizes",getPrize:e=>"/schema/prizes/".concat(e),getFees:"/schema/fees",getFee:e=>"/schema/fees/".concat(e)},events:{listEvents:"/events/my",getEvent:e=>"/events/".concat(e),createEvent:"/events"},birds:{listByEvent:e=>"/birds/event/".concat(e)},users:{getProfile:"/users/profile",updateProfile:"/users/profile",getBreeders:e=>"/users/breeders/event/".concat(e)},eventInventory:{list:e=>"/event-inventory/".concat(e),updateItem:e=>"/event-inventory/item/".concat(e)},races:{create:"/races",listRaces:e=>"/races/event/".concat(e),listRace:e=>"/races/".concat(e),listRaceItems:e=>"/races/".concat(e,"/items"),loftBasketing:e=>"/races/".concat(e,"/item/loft-basket"),raceBasketing:e=>"/races/".concat(e,"/item/race-basket"),publishResult:e=>"/races/".concat(e,"/publish-result"),listResults:e=>"/races/".concat(e,"/results")}}},1839:(e,r,t)=>{"use strict";t.d(r,{p:()=>a});var s=t(8260);t(7688);var n=t(7814);function a(e){let{className:r,type:t,...a}=e;return(0,s.jsx)("input",{type:t,"data-slot":"input",className:(0,n.cn)("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",r),...a})}},3589:(e,r,t)=>{"use strict";t.d(r,{J:()=>i});var s=t(8260);t(7688);var n=t(6799),a=t(7814);function i(e){let{className:r,...t}=e;return(0,s.jsx)(n.b,{"data-slot":"label",className:(0,a.cn)("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",r),...t})}},3657:(e,r,t)=>{"use strict";t.d(r,{$:()=>o,r:()=>l});var s=t(8260);t(7688);var n=t(3191),a=t(3280),i=t(7814);let l=(0,a.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground shadow-xs hover:bg-primary/90",destructive:"bg-destructive text-white shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9"}},defaultVariants:{variant:"default",size:"default"}});function o(e){let{className:r,variant:t,size:a,asChild:o=!1,...c}=e,d=o?n.DX:"button";return(0,s.jsx)(d,{"data-slot":"button",className:(0,i.cn)(l({variant:t,size:a,className:r})),...c})}},5208:(e,r,t)=>{"use strict";t.d(r,{n:()=>n});var s=t(7814);let n=(0,t(2525).v)()((e,r)=>({user:null,isAuthenticated:!1,isLoading:!0,setUser:r=>e({user:r,isAuthenticated:!!r,isLoading:!1}),clearAuth:()=>{s.H.remove(),e({user:null,isAuthenticated:!1,isLoading:!1})},setLoading:r=>e({isLoading:r})}))},5254:(e,r,t)=>{"use strict";t.d(r,{default:()=>p});var s=t(8260),n=t(7026),a=t(518),i=t(8447),l=t(8648),o=t(4046),c=t(3657),d=t(1839),u=t(9707),m=t(7688),x=t(647);let h=o.Ay$.object({name:o.Ay$.string().min(1,"Name is required").optional(),country:o.Ay$.string().optional(),ssn:o.Ay$.string().optional(),taxNumber:o.Ay$.string().optional(),address:o.Ay$.string().optional(),city:o.Ay$.string().optional(),state:o.Ay$.string().optional(),zip:o.Ay$.string().optional(),primaryPhone:o.Ay$.string().optional(),cellPhone:o.Ay$.string().optional(),fax:o.Ay$.string().optional(),sms:o.Ay$.string().optional(),alternativeEmail:o.Ay$.string().email("Invalid email format").optional().or(o.Ay$.literal("")),webAddress:o.Ay$.string().url("Invalid URL format").optional().or(o.Ay$.literal(""))});function p(){let{data:e,error:r,isError:t,isPending:o,isSuccess:p}=(0,n.A)({endpoint:a.b.users.getProfile,method:"GET",queryKey:["userProfile"]}),{mutateAsync:g}=(0,n.A)({endpoint:a.b.users.updateProfile,method:"PUT",invalidateKeys:[{queryKey:["userProfile"]}]}),v=(0,i.mN)({resolver:(0,l.u)(h),defaultValues:{name:"",country:"",ssn:"",taxNumber:"",address:"",city:"",state:"",zip:"",primaryPhone:"",cellPhone:"",fax:"",sms:"",alternativeEmail:"",webAddress:""}}),j=null==e?void 0:e.data;(0,m.useEffect)(()=>{j&&v.reset({name:j.name||"",country:j.country||"",ssn:j.ssn||"",taxNumber:j.taxNumber||"",address:j.address||"",city:j.city||"",state:j.state||"",zip:j.zip||"",primaryPhone:j.primaryPhone||"",cellPhone:j.cellPhone||"",fax:j.fax||"",sms:j.sms||"",alternativeEmail:j.alternativeEmail||"",webAddress:j.webAddress||""})},[j,v]);let f=async e=>{try{if(!g)return;let r=Object.fromEntries(Object.entries(e).filter(e=>{let[r,t]=e;return""!==t&&void 0!==t})),t=await g(r);if(t.error)return void x.o.error(t.error);x.o.success("Profile updated successfully!")}catch(e){x.o.error("Failed to update profile. Please try again."),console.error("Error updating profile:",e)}};return o?(0,s.jsx)("div",{className:"flex items-center justify-center min-h-[400px]",children:(0,s.jsx)("div",{className:"text-lg",children:"Loading..."})}):t?(0,s.jsx)("div",{className:"flex items-center justify-center min-h-[400px]",children:(0,s.jsxs)("div",{className:"text-lg text-red-600",children:["Error: ",r.message]})}):(0,s.jsx)("div",{className:"container mx-auto py-8 px-4 max-w-4xl",children:(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h1",{className:"text-3xl font-bold tracking-tight",children:"Profile Settings"}),(0,s.jsx)("p",{className:"text-muted-foreground",children:"Manage your account settings and personal information."})]}),(0,s.jsx)("div",{className:"bg-card rounded-lg border p-6",children:(0,s.jsx)(u.lV,{...v,children:(0,s.jsxs)("form",{onSubmit:v.handleSubmit(f),className:"space-y-6",children:[(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsx)("h2",{className:"text-xl font-semibold",children:"Basic Information"}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,s.jsx)(u.zB,{control:v.control,name:"name",render:e=>{let{field:r}=e;return(0,s.jsxs)(u.eI,{children:[(0,s.jsx)(u.lR,{children:"Name"}),(0,s.jsx)(u.MJ,{children:(0,s.jsx)(d.p,{placeholder:"Enter your name",...r})}),(0,s.jsx)(u.C5,{})]})}}),(0,s.jsx)(u.zB,{control:v.control,name:"country",render:e=>{let{field:r}=e;return(0,s.jsxs)(u.eI,{children:[(0,s.jsx)(u.lR,{children:"Country"}),(0,s.jsx)(u.MJ,{children:(0,s.jsx)(d.p,{placeholder:"Enter your country",...r})}),(0,s.jsx)(u.C5,{})]})}})]})]}),(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsx)("h2",{className:"text-xl font-semibold",children:"Tax Information"}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,s.jsx)(u.zB,{control:v.control,name:"ssn",render:e=>{let{field:r}=e;return(0,s.jsxs)(u.eI,{children:[(0,s.jsx)(u.lR,{children:"SSN"}),(0,s.jsx)(u.MJ,{children:(0,s.jsx)(d.p,{placeholder:"Enter your SSN",...r})}),(0,s.jsx)(u.C5,{})]})}}),(0,s.jsx)(u.zB,{control:v.control,name:"taxNumber",render:e=>{let{field:r}=e;return(0,s.jsxs)(u.eI,{children:[(0,s.jsx)(u.lR,{children:"Tax Number"}),(0,s.jsx)(u.MJ,{children:(0,s.jsx)(d.p,{placeholder:"Enter your tax number",...r})}),(0,s.jsx)(u.C5,{})]})}})]})]}),(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsx)("h2",{className:"text-xl font-semibold",children:"Address Information"}),(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsx)(u.zB,{control:v.control,name:"address",render:e=>{let{field:r}=e;return(0,s.jsxs)(u.eI,{children:[(0,s.jsx)(u.lR,{children:"Address"}),(0,s.jsx)(u.MJ,{children:(0,s.jsx)(d.p,{placeholder:"Enter your address",...r})}),(0,s.jsx)(u.C5,{})]})}}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,s.jsx)(u.zB,{control:v.control,name:"city",render:e=>{let{field:r}=e;return(0,s.jsxs)(u.eI,{children:[(0,s.jsx)(u.lR,{children:"City"}),(0,s.jsx)(u.MJ,{children:(0,s.jsx)(d.p,{placeholder:"Enter your city",...r})}),(0,s.jsx)(u.C5,{})]})}}),(0,s.jsx)(u.zB,{control:v.control,name:"state",render:e=>{let{field:r}=e;return(0,s.jsxs)(u.eI,{children:[(0,s.jsx)(u.lR,{children:"State"}),(0,s.jsx)(u.MJ,{children:(0,s.jsx)(d.p,{placeholder:"Enter your state",...r})}),(0,s.jsx)(u.C5,{})]})}}),(0,s.jsx)(u.zB,{control:v.control,name:"zip",render:e=>{let{field:r}=e;return(0,s.jsxs)(u.eI,{children:[(0,s.jsx)(u.lR,{children:"ZIP Code"}),(0,s.jsx)(u.MJ,{children:(0,s.jsx)(d.p,{placeholder:"Enter your ZIP code",...r})}),(0,s.jsx)(u.C5,{})]})}})]})]})]}),(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsx)("h2",{className:"text-xl font-semibold",children:"Contact Information"}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,s.jsx)(u.zB,{control:v.control,name:"primaryPhone",render:e=>{let{field:r}=e;return(0,s.jsxs)(u.eI,{children:[(0,s.jsx)(u.lR,{children:"Primary Phone"}),(0,s.jsx)(u.MJ,{children:(0,s.jsx)(d.p,{placeholder:"Enter your primary phone",...r})}),(0,s.jsx)(u.C5,{})]})}}),(0,s.jsx)(u.zB,{control:v.control,name:"cellPhone",render:e=>{let{field:r}=e;return(0,s.jsxs)(u.eI,{children:[(0,s.jsx)(u.lR,{children:"Cell Phone"}),(0,s.jsx)(u.MJ,{children:(0,s.jsx)(d.p,{placeholder:"Enter your cell phone",...r})}),(0,s.jsx)(u.C5,{})]})}}),(0,s.jsx)(u.zB,{control:v.control,name:"fax",render:e=>{let{field:r}=e;return(0,s.jsxs)(u.eI,{children:[(0,s.jsx)(u.lR,{children:"Fax"}),(0,s.jsx)(u.MJ,{children:(0,s.jsx)(d.p,{placeholder:"Enter your fax number",...r})}),(0,s.jsx)(u.C5,{})]})}}),(0,s.jsx)(u.zB,{control:v.control,name:"sms",render:e=>{let{field:r}=e;return(0,s.jsxs)(u.eI,{children:[(0,s.jsx)(u.lR,{children:"SMS"}),(0,s.jsx)(u.MJ,{children:(0,s.jsx)(d.p,{placeholder:"Enter your SMS number",...r})}),(0,s.jsx)(u.C5,{})]})}})]})]}),(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsx)("h2",{className:"text-xl font-semibold",children:"Online Information"}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,s.jsx)(u.zB,{control:v.control,name:"alternativeEmail",render:e=>{let{field:r}=e;return(0,s.jsxs)(u.eI,{children:[(0,s.jsx)(u.lR,{children:"Alternative Email"}),(0,s.jsx)(u.MJ,{children:(0,s.jsx)(d.p,{type:"email",placeholder:"Enter your alternative email",...r})}),(0,s.jsx)(u.C5,{})]})}}),(0,s.jsx)(u.zB,{control:v.control,name:"webAddress",render:e=>{let{field:r}=e;return(0,s.jsxs)(u.eI,{children:[(0,s.jsx)(u.lR,{children:"Web Address"}),(0,s.jsx)(u.MJ,{children:(0,s.jsx)(d.p,{type:"url",placeholder:"Enter your website URL",...r})}),(0,s.jsx)(u.C5,{})]})}})]})]}),(0,s.jsx)("div",{className:"flex justify-end pt-6",children:(0,s.jsx)(c.$,{type:"submit",disabled:v.formState.isSubmitting,className:"min-w-[100px]",children:v.formState.isSubmitting?"Updating...":"Update Profile"})})]})})})]})})}},7026:(e,r,t)=>{"use strict";t.d(r,{A:()=>u});var s=t(3748),n=t(6955),a=t(6339),i=t(6189),l=t(5208),o=t(7814);let c="https://api.infps-demo.com/api",d=i.A.create({baseURL:c,withCredentials:!0,headers:{"Content-Type":"application/json"}});function u(e){let{bodyType:r="json",endpoint:t,exact:i=!0,queryKey:l=[],method:o="GET",params:u,headers:m,enabled:x=!0,onSuccess:h,onError:p,baseUrl:g,queryString:v,invalidateKeys:j}=e,f=(0,s.jE)(),y=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;try{let s={method:o,url:null!=t?t:"",baseURL:null!=g?g:c,headers:m?{...m}:void 0,params:u};v&&(s.url="".concat(s.url,"?").concat(v)),e&&"GET"!==o&&("formdata"===r?(s.data=e,s.headers={...s.headers,"Content-Type":"multipart/form-data"}):s.data=e);let n=await d.request(s);return{data:n.data,status:n.status}}catch(r){var s,n,a,i,l;let e=(null==(s=r.response)?void 0:s.status)||500;return{error:(null==(a=r.response)||null==(n=a.data)?void 0:n.error)||(null==(l=r.response)||null==(i=l.data)?void 0:i.message)||r.message||"Internal error",status:e}}};if(x&&"GET"===o){var b;let e=(0,n.I)({queryKey:l,queryFn:()=>y(),refetchOnWindowFocus:!1,retry:(e,r)=>(null==r?void 0:r.status)!==401&&(null==r?void 0:r.status)!==403&&e<3,refetchOnReconnect:!1,staleTime:1/0});return{data:null==(b=e.data)?void 0:b.data,error:e.error,isPending:e.isPending,isError:e.isError,isSuccess:e.isSuccess}}let{data:N,error:E,mutate:A,mutateAsync:I,isPending:P,isSuccess:w,isError:z,reset:C}=(0,a.n)({mutationFn:async e=>{let r=await y(e);if(r.error)throw Error(r.error,{cause:r.status});return r},onSuccess:async e=>{if([200,201,204].includes(e.status)){if(l.length&&f.invalidateQueries({queryKey:l,exact:i}),null==j?void 0:j.length)for(let e of j)f.invalidateQueries(e);null==h||h()}},onError:e=>{let r={message:e.message||"An error occurred",name:e.name||"Error",cause:e.cause,stack:e.stack};null==p||p(r)}});return{data:null==N?void 0:N.data,error:E,isPending:P,isError:z,isSuccess:w,mutate:A,mutateAsync:I,reset:C}}d.interceptors.request.use(e=>{let r=o.H.get();return r&&(e.headers.Authorization="Bearer ".concat(r)),e},e=>Promise.reject(e)),d.interceptors.response.use(e=>e,e=>{var r;if((null==(r=e.response)?void 0:r.status)===401){let e=window.location.pathname;if(!e.includes("/login")&&!e.includes("/signup")){let{clearAuth:e}=l.n.getState();e(),o.H.remove(),window.location.href="/login"}}return Promise.reject(e)})},7814:(e,r,t)=>{"use strict";t.d(r,{H:()=>i,cn:()=>a});var s=t(1230),n=t(5202);function a(){for(var e=arguments.length,r=Array(e),t=0;t<e;t++)r[t]=arguments[t];return(0,n.QP)((0,s.$)(r))}let i={set:e=>{localStorage.setItem("accessToken",e)},get:()=>localStorage.getItem("accessToken"),remove:()=>{localStorage.removeItem("accessToken")}}},8776:(e,r,t)=>{Promise.resolve().then(t.bind(t,5254))},9707:(e,r,t)=>{"use strict";t.d(r,{C5:()=>v,MJ:()=>g,eI:()=>h,lR:()=>p,lV:()=>c,zB:()=>u});var s=t(8260),n=t(7688),a=t(3191),i=t(8447),l=t(7814),o=t(3589);let c=i.Op,d=n.createContext({}),u=e=>{let{...r}=e;return(0,s.jsx)(d.Provider,{value:{name:r.name},children:(0,s.jsx)(i.xI,{...r})})},m=()=>{let e=n.useContext(d),r=n.useContext(x),{getFieldState:t}=(0,i.xW)(),s=(0,i.lN)({name:e.name}),a=t(e.name,s);if(!e)throw Error("useFormField should be used within <FormField>");let{id:l}=r;return{id:l,name:e.name,formItemId:"".concat(l,"-form-item"),formDescriptionId:"".concat(l,"-form-item-description"),formMessageId:"".concat(l,"-form-item-message"),...a}},x=n.createContext({});function h(e){let{className:r,...t}=e,a=n.useId();return(0,s.jsx)(x.Provider,{value:{id:a},children:(0,s.jsx)("div",{"data-slot":"form-item",className:(0,l.cn)("grid gap-2",r),...t})})}function p(e){let{className:r,...t}=e,{error:n,formItemId:a}=m();return(0,s.jsx)(o.J,{"data-slot":"form-label","data-error":!!n,className:(0,l.cn)("data-[error=true]:text-destructive",r),htmlFor:a,...t})}function g(e){let{...r}=e,{error:t,formItemId:n,formDescriptionId:i,formMessageId:l}=m();return(0,s.jsx)(a.DX,{"data-slot":"form-control",id:n,"aria-describedby":t?"".concat(i," ").concat(l):"".concat(i),"aria-invalid":!!t,...r})}function v(e){var r;let{className:t,...n}=e,{error:a,formMessageId:i}=m(),o=a?String(null!=(r=null==a?void 0:a.message)?r:""):n.children;return o?(0,s.jsx)("p",{"data-slot":"form-message",id:i,className:(0,l.cn)("text-destructive text-sm",t),...n,children:o}):null}}},e=>{e.O(0,[29,974,641,46,561,742,358],()=>e(e.s=8776)),_N_E=e.O()}]);